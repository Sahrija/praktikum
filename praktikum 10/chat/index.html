<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What'sGoing</title>
    <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container">
        <div class="msgcontainer">
        <div class="chat" id="msg-area"></div>
        </div>

        <div class="message">
            <input placeholder="Ketik pesan" autofocus type="text" class="inp" id="inp-chat">
            <button id="send-but">Kirim</button>
        </div>
    </div>

    <script>
        var input = document.getElementById("inp-chat");
        var button = document.getElementById("send-but");

        input.addEventListener("keydown",
            function (e) {
                if (e.code == "Enter") {
                    validate()
                }
            })

        function validate() {
            var text = document.getElementById("inp-chat").value;
            if (text != "") {
                var chat_item = document.createElement("div");
                chat_item.innerHTML = text;
                chat_item.className = "user"

                var time = new Date();
                let minutes = time.getMinutes();
                let hours = time.getHours();
                var date_label = document.createElement("span");
                date_label.innerHTML = hours+":"+minutes;
                chat_item.appendChild(date_label);

                msgBox = document.getElementById("msg-area");
                msgBox.appendChild(chat_item);
                msgBox.scrollTo(0,msgBox.scrollHeight);

                document.getElementById("inp-chat").value = "";
            }
        }

        button.onclick = function(){
            document.getElementById("inp-chat").focus();
            validate();
        };

    </script>
</body>

</html>